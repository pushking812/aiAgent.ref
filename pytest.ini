# pytest.ini

[pytest]
# Пути для поиска тестов
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Опции по умолчанию
addopts = 
    --strict-markers
    --strict-config
    -ra
    -q
    --tb=short

# Настройки для разных сред
minversion = 6.0
xfail_strict = true

# Фильтры для предупреждений
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:.*tkinter.*
    ignore::ResourceWarning

# Маркеры
markers =
    gui: тесты GUI компонентов (требуют tkinter)
    unit: unit-тесты (без зависимостей)
    integration: интеграционные тесты
    slow: медленные тесты (пропускаются по умолчанию)
    requires_gui: тесты, требующие реального GUI окружения
    requires_tkinter: тесты, требующие tkinter
    performance: тесты производительности
    network: тесты, требующие сетевого подключения

# Настройки покрытия
[tool:pytest]
coverage_threshold_warn = 70
coverage_threshold_fail = 50

# Настройки таймаутов
timeout = 30
timeout_method = thread

# Настройки для CI
junit_family = xunit2
junit_suite_name = GUI Tests
junit_logging = all